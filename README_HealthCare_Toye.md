# Project: Health Care Survey Application

## Table of Contents
* Overview
* Features
* Folder Structure
* Prerequisites
* Implementation steps for setting up locally
* How to run
* Requirements


## 1. Overview
This is a Flask-based web application for collecting survey data on participants' income and expenses in preparation for a new healthcare product launch. The collected data is stored in MongoDB, exported to a CSV file, and used for analysis and visualization.

## 2. Features
* User-friendly HTML form for data collection.
* Storage of survey data (age, gender, income, expenses) in a MongoDB database.
* Export survey data to a CSV file for further analysis.
* Load and transform csv survey data from object to dataframe
* Data analysis and visualization
    

## 3. Folder Structure
 
    Healthcare_App_Toye/                      # Main Folder
    │
    ├── app.py                                # Main application script
    |__ export_data.ipynb                     # Notebook to export survey data from MongoDB to CSV
    |__ load_data_and_visualization.ipynb     # Notebook to load survey data, transform data and visualize
    |__ gender_spending_distribution.png      # Saved image for gender distribution across spending categories
    |__ highest_income_ages.png               # Saved image for income distribution across ages
    ├── requirements.txt                      # Python dependencies to run the app.py
    ├── README_HealthCare_Toye.md             # Project documentation
    ├── templates/                            # Folder containing HTML form to be rendered by the app
    │   └── survey.html                       # HTML form to retrieve customer data
    
    
 ## 4. Prerequisites
Before running this application, the followings should be installed:

   * Python 3.8 or later
   * MongoDB Compas downloaded locally with the CLI
   * Flask and all related Python libraries
 
  
## 5. Implementation Steps
   * i.`Download and install MongoDB server`: Download MongoDB server with the CLI from mongo db community server and install ensuring it is running as a service.
   * b.`Connect MongoDB`: Create a connection on Mongodb on the default host 'mongodb://localhost:27017'.
   * c.`Create database and connection`: On the connection created, created a databse called 'survey_data' and a collection called 'user_expenses'.
   * d.`Create survey form`: Create a survey form in an html file called 'survey' to capture participants details.
   * e.`Deployment`: Ran the app locally using Flask application.
   
## 6. How to Run

### a . Start Application: Run app.py scripts on terminal to store data 

   * i.  Install Dependencies `pip install -r requirements.txt`
   * ii. Start the app `python app.py`
   * iii.Open participants survey form using the url generated by lask application `http://127.0.0.1:5000`
   * iv. Fill the form and submit data to mongo db
   * v.  Note: For this exercise, 25 forms were submitted to generate data for further analysis
   
   
### b. Export Data to CSV: Run export_data.ipynb on notebook 

   * i. Run the export_data.ipynb to have survey data exported from mongodb to your current working directory in csv
   * ii. The response 'Data exported to survey_data.csv' indicate script ran successfully

    
### b. Load Data, Transform and Visualize: Run load_data_and_visualization.ipynb on notebook 

   * i. Run the load_data_and_visualization.ipynb to:
   * a. load survey data exported from mongo db into the notebook
   * b. transfrom data i.e convert expense column to dictionary and separate expense categories
   * c. visualize income distribution among ages and save into .png file
   * c. visualize gender distribution across expense categories and save into .png file
 
    
## 7. Requirements
* Flask
* pymongo
* matplotlib
* pandas   


```python

```
